(function(a){function b(a,c){return this instanceof b?(this.x=a||0,this.y=c||0,void 0):new b(a,c)}b.prototype={x:0,y:0,set:function(a,b){return this.x=a,this.y=b,this},zero:function(){return this.set(0,0)},clone:function(){return new b(this.x,this.y)},negate:function(a){return a?new b(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(a,c){return c?new b(this.x+a.x,this.y+a.y):(this.x+=a.x,this.y+=a.y,this)},subtract:function(a,c){return c?new b(this.x-a.x,this.y-a.y):(this.x-=a.x,this.y-=a.y,this)},multiply:function(c,d){var e,f;return c.x!==a?(e=c.x,f=c.y):e=f=c,d?new b(this.x*e,this.y*f):(this.x*=e,this.y*=f,this)},rotate:function(a,c,d){var i,j,e=this.x,f=this.y,g=Math.cos(a),h=Math.sin(a);return c=c?-1:1,i=g*e-c*h*f,j=c*h*e+g*f,d?new b(i,j):this.set(i,j)},length:function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},lengthSquared:function(){var a=this.x,b=this.y;return a*a+b*b},distance:function(a){return this.subtract(a,!0).length()},normalize:function(){var a=this.length();if(Number.MIN_VALUE>a)return 0;var b=1/a;return this.x*=b,this.y*=b,a},equal:function(b,c){return c===a?this.x===b.x&&this.y==b.y:this.x===b&&this.y===c},abs:function(a){var c=Math.abs(this.x),d=Math.abs(this.y);return a?new b(c,d):this.set(c,d)},min:function(a,c){var d=this.x,e=this.y,f=a.x,g=a.y,h=f>d?d:f,i=g>e?e:g;return c?new b(h,i):this.set(h,i)},max:function(a,c){var d=this.x,e=this.y,f=a.x,g=a.y,h=d>f?d:f,i=e>g?e:g;return c?new b(h,i):this.set(h,i)},clamp:function(a,b,c){var d=this.min(b,!0).max(a);return c?d:this.set(d.x,d.y)},isValid:function(){return isFinite(this.x)&&isFinite(this.y)&&!isNaN(this.x)&&!isNaN(this.y)},skew:function(){return new b(-this.y,this.x)},dot:function(a){return this.x*a.x+a.y*this.y},perpDot:function(a){return this.x*a.y-this.y*a.x},angleTo:function(a){return Math.atan2(this.perpDot(a),this.dot(a))},divide:function(a,c){if(0===a||isNaN(a))throw Error("division by zero");return c?new b(this.x/a,this.y/a):(this.x/=a,this.y/=a,this)}},"undefined"==typeof window?module.exports=b:window.Vec2=b})();